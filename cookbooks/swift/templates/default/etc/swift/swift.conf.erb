[swift-hash]
# random unique strings that can never change (DO NOT LOSE)
swift_hash_path_prefix = changeme
swift_hash_path_suffix = changeme
<% @storage_policies.each_with_index do |name, i| %>

[storage-policy:<%= i %>]
name = <%= name %>
<% if i == 0 %>
default = yes
<% end %>
<% if name == @ec_policy %>
policy_type = erasure_coding
ec_type = <%= @ec_type %>
ec_num_data_fragments = <%= @ec_replicas - @ec_parity %>
ec_num_parity_fragments = <%= @ec_parity %>
ec_duplication_factor = <%= @ec_duplication %>
diskfile_module = egg:swift#erasure_coding.kv
<% else %>
diskfile_module = egg:swift#replication.kv
<% end %>
<% end %>

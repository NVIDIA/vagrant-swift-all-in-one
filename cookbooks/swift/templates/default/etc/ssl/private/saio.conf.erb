[req]
default_md = sha256
prompt = no
distinguished_name = subject
x509_extensions = ext

[subject]
CN = <%= @hostname %>

[ext]
subjectKeyIdentifier    = hash
authorityKeyIdentifier  = keyid:always, issuer:always
basicConstraints        = CA:true
subjectAltName          = @alt-names
keyUsage                = digitalSignature, keyEncipherment, keyCertSign
extendedKeyUsage        = serverAuth

[alt-names]
DNS.1   = localhost
DNS.2   = <%= @hostname %>
DNS.3   = *.<%= @hostname %>
DNS.4   = <%= @ip %>.nip.io
DNS.5   = *.<%= @ip %>.nip.io
DNS.6   = <%= @ip %>.sslip.io
DNS.7   = *.<%= @ip %>.sslip.io
IP.1    = <%= @ip %>

